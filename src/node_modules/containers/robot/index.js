import React, {Component} from 'react'
import {connect} from 'react-redux'
import {getRobotById} from 'selectors'

import {fetchRobotById} from 'actions'

class Robot extends Component {
    componentDidMount() {
        this.props.fetchRobotById(this.props.params.id)
    }
    renderPage() {
        const {robot} = this.props
        console.log(robot)
        return (
            <div>
                <img src={robot.image} alt=""/>
            </div>
        )
    }
    render() {
        const {robot} = this.props
        console.log('robot', this.props.robot)
        return (
            <div className="container-fluid app-wrapper 123">
                <header>
                    Header
                </header>

                {robot && this.renderPage()}
                <footer>
                    Footer
                </footer>

            </div>
        )
    }
}

const mapStateToProps = state => ({
    robot: getRobotById(state, state.robotPage.id)
})

const mapDispatchToProps = {
    fetchRobotById
}

export default connect(mapStateToProps, mapDispatchToProps)(Robot)